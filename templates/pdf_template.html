<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <style>
    {{.CSS}}
    body { font-family: "Inter", Arial, sans-serif; color: #0f172a; }
    .pdf-page { max-width: 7.05in; margin: 0 auto; padding: 10px 0 16px; }
    .masthead { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .logo-slot { width: 24%; }
    .logo-slot.right { text-align: right; }
    .brand-img { max-height: 52px; width: auto; object-fit: contain; }
    .page-header { text-align: center; margin: 6px 0 8px; }
    .event-title { font-size: 22px; font-weight: 800; margin: 0; letter-spacing: -0.01em; }
    .event-venue-line { font-size: 13px; color: #b91c1c; font-weight: 700; margin-top: 4px; }
    .event-date { font-size: 12px; margin-top: 4px; font-weight: 600; color: #1f2937; }
    .event-venue { font-size: 10.5px; color: #6b7280; margin-top: 3px; }
    .divider { border: 0; border-bottom: 1px solid #e5e7eb; margin: 10px 0 16px; }

    .card-grid { display: grid; gap: 14px; }
    .two-col { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px 14px; break-inside: avoid; page-break-inside: avoid; box-shadow: 0 2px 6px rgba(15, 23, 42, 0.04); }
    .card::before { content: ""; display: block; height: 12px; margin: -12px -14px 10px; border-radius: 10px 10px 0 0; background: linear-gradient(90deg, #fdecee 0%, #fff5f5 40%, #fdecee 100%); border-bottom: 1px solid #f8d7da; }
    .card-title { margin: 0 0 8px; font-size: 12.5px; font-weight: 800; color: #b91c1c; letter-spacing: 0.01em; }
    .field-row { display: flex; gap: 10px; margin-bottom: 7px; align-items: baseline; }
    .field-row:last-child { margin-bottom: 0; }
    .field-label { flex: 0 0 160px; color: #6b7280; font-size: 10.5px; font-weight: 600; text-transform: none; }
    .field-value { flex: 1; color: #0f172a; font-size: 11.5px; font-weight: 700; line-height: 1.45; }
    .field-value.muted { color: #9ca3af; font-weight: 700; }
    .value-strong { font-weight: 800; }
    .tbd { font-style: italic; }

    .contacts-table { width: 100%; border-collapse: collapse; font-size: 10.5px; }
    .contacts-table th, .contacts-table td { border: 1px solid #e5e7eb; padding: 6px 8px; text-align: left; }
    .contacts-table th { background: #f8fafc; color: #374151; font-weight: 800; }
    .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 10px 16px; }
    .timeline-list .field-row { margin-bottom: 6px; }
    .page-break { page-break-before: always; break-before: page; height: 0; }
    .contacts-section { page-break-before: always; break-before: page; }
  </style>
</head>
<body>
  <div class="pdf-page">
    <div class="masthead">
      <div class="logo-slot">
        <img src="file://{{.AssetBase}}/OYD.png" class="brand-img" alt="OYD" />
      </div>
      <div class="logo-slot right">
        <img src="file://{{.AssetBase}}/lecom.png" class="brand-img" alt="LECOM" />
      </div>
    </div>

    <div class="page-header">
      <h1 class="event-title">{{fallback "eventName" "Show Advance"}}</h1>
      {{if has "venueName"}}<div class="event-venue-line">{{display "venueName"}}</div>{{end}}
      {{if has "eventDate"}}<div class="event-date">{{display "eventDate"}}</div>{{end}}
      <div class="event-venue">
        {{if has "venueStreet"}}{{display "venueStreet"}}{{end}}{{if and (has "venueStreet") (has "venueCityStateZip")}} · {{end}}
        {{if has "venueCityStateZip"}}{{display "venueCityStateZip"}}{{end}}{{if and (or (has "venueStreet") (has "venueCityStateZip"))}} · {{end}}Powered by Didactidigital
      </div>
    </div>
    <hr class="divider" />

    <div class="card-grid two-col">
      <div class="card">
        <h3 class="card-title">Header</h3>
        <div class="field-row"><div class="field-label">Event Title</div><div class="field-value">{{fallback "eventName" "Show Advance"}}</div></div>
        <div class="field-row"><div class="field-label">Date</div><div class="field-value">{{if has "eventDate"}}{{display "eventDate"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Venue</div><div class="field-value">{{if has "venueName"}}{{display "venueName"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Address</div><div class="field-value">{{if or (has "venueStreet") (has "venueCityStateZip")}}{{display "venueStreet"}}{{if and (has "venueStreet") (has "venueCityStateZip")}}, {{end}}{{display "venueCityStateZip"}}{{else}}N/A{{end}}</div></div>
      </div>
      <div class="card">
        <h3 class="card-title">At-a-glance</h3>
        <div class="field-row"><div class="field-label">Doors</div><div class="field-value {{if not (has "doorsTime")}}muted tbd{{end}}">{{if has "doorsTime"}}<span class="value-strong">{{display "doorsTime"}}</span>{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Show Start</div><div class="field-value {{if not (has "showStartTime")}}muted tbd{{end}}">{{if has "showStartTime"}}<span class="value-strong">{{display "showStartTime"}}</span>{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Curfew / Hard Out</div><div class="field-value {{if not (has "curfew")}}muted tbd{{end}}">{{if has "curfew"}}<span class="value-strong">{{display "curfew"}}</span>{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Load-in Window</div><div class="field-value {{if not (or (has "loadInTime") (has "loadOutTime"))}}muted tbd{{end}}">{{if or (has "loadInTime") (has "loadOutTime")}}{{if has "loadInTime"}}<span class="value-strong">{{display "loadInTime"}}</span>{{end}}{{if and (has "loadInTime") (has "loadOutTime")}} – {{end}}{{if has "loadOutTime"}}<span class="value-strong">{{display "loadOutTime"}}</span>{{end}}{{else}}N/A{{end}}</div></div>
      </div>
    </div>

    <div class="card" style="margin-top:12px;">
      <h3 class="card-title">Schedule / Timeline</h3>
      <div class="timeline-list">
        <div class="field-row"><div class="field-label">Load-in</div><div class="field-value {{if not (has "loadInTime")}}muted tbd{{end}}">{{if has "loadInTime"}}{{display "loadInTime"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Soundcheck</div><div class="field-value {{if not (has "soundcheckTime")}}muted tbd{{end}}">{{if has "soundcheckTime"}}{{display "soundcheckTime"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Doors</div><div class="field-value {{if not (has "doorsTime")}}muted tbd{{end}}">{{if has "doorsTime"}}{{display "doorsTime"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Show Start</div><div class="field-value {{if not (has "showStartTime")}}muted tbd{{end}}">{{if has "showStartTime"}}{{display "showStartTime"}}{{else}}N/A{{end}}</div></div>
        {{if has "setLengths"}}<div class="field-row"><div class="field-label">Set Lengths (Support / Headliner)</div><div class="field-value">{{display "setLengths"}}</div></div>{{else}}<div class="field-row"><div class="field-label">Set Lengths (Support / Headliner)</div><div class="field-value muted tbd">N/A</div></div>{{end}}
        <div class="field-row"><div class="field-label">Curfew / Hard Out</div><div class="field-value {{if not (has "curfew")}}muted tbd{{end}}">{{if has "curfew"}}{{display "curfew"}}{{else}}N/A{{end}}</div></div>
        <div class="field-row"><div class="field-label">Load-out</div><div class="field-value {{if not (has "loadOutTime")}}muted tbd{{end}}">{{if has "loadOutTime"}}{{display "loadOutTime"}}{{else}}N/A{{end}}</div></div>
        {{if has "doorsRos"}}<div class="field-row"><div class="field-label">ROS</div><div class="field-value">{{display "doorsRos"}}</div></div>{{end}}
      </div>
    </div>

    <div class="page-break"></div>

    <div class="card-grid two-col" style="margin-top:12px;">
      {{if or (has "promoterName") (has "showType") (has "capacity") (has "adaNeeds") (has "format") (has "eventDates")}}
      <div class="card">
        <h3 class="card-title">Event Details</h3>
        {{if has "promoterName"}}<div class="field-row"><div class="field-label">Promoter</div><div class="field-value">{{display "promoterName"}}</div></div>{{end}}
        {{if has "showType"}}<div class="field-row"><div class="field-label">Show Type</div><div class="field-value">{{display "showType"}}</div></div>{{end}}
        {{if has "capacity"}}<div class="field-row"><div class="field-label">Venue Capacity</div><div class="field-value">{{display "capacity"}}</div></div>{{end}}
        {{if has "adaNeeds"}}<div class="field-row"><div class="field-label">ADA Needs</div><div class="field-value">{{display "adaNeeds"}}</div></div>{{end}}
        {{if has "format"}}<div class="field-row"><div class="field-label">Format (GA / Reserved)</div><div class="field-value">{{display "format"}}</div></div>{{end}}
        {{if has "eventDates"}}<div class="field-row"><div class="field-label">Event Date(s)</div><div class="field-value">{{display "eventDates"}}</div></div>{{end}}
        {{if has "headliner"}}<div class="field-row"><div class="field-label">Headliner</div><div class="field-value">{{display "headliner"}}</div></div>{{end}}
        {{if has "support"}}<div class="field-row"><div class="field-label">Support</div><div class="field-value">{{display "support"}}</div></div>{{end}}
      </div>
      {{end}}

      {{if or (has "ticketPlatform") (has "boxOfficeOpen") (has "willCallProcess") (has "artistComps") (has "venueComps") (has "onSaleDateTime") (has "announceDate")}}
      <div class="card">
        <h3 class="card-title">Ticketing / Box Office</h3>
        {{if has "ticketPlatform"}}<div class="field-row"><div class="field-label">Ticket Platform</div><div class="field-value">{{display "ticketPlatform"}}</div></div>{{end}}
        {{if has "boxOfficeOpen"}}<div class="field-row"><div class="field-label">Box Office Open</div><div class="field-value">{{display "boxOfficeOpen"}}</div></div>{{end}}
        {{if has "willCallProcess"}}<div class="field-row"><div class="field-label">Will Call Process</div><div class="field-value">{{display "willCallProcess"}}</div></div>{{end}}
        {{if has "artistComps"}}<div class="field-row"><div class="field-label">Artist Comps</div><div class="field-value">{{display "artistComps"}}</div></div>{{end}}
        {{if has "venueComps"}}<div class="field-row"><div class="field-label">Venue Comps</div><div class="field-value">{{display "venueComps"}}</div></div>{{end}}
        {{if has "onSaleDateTime"}}<div class="field-row"><div class="field-label">On-Sale Date / Time</div><div class="field-value">{{display "onSaleDateTime"}}</div></div>{{end}}
        {{if has "announceDate"}}<div class="field-row"><div class="field-label">Announce Date</div><div class="field-value">{{display "announceDate"}}</div></div>{{end}}
      </div>
      {{end}}
    </div>

    <div class="card-grid two-col" style="margin-top:12px;">
      <div class="card">
        <h3 class="card-title">Load-in & Parking</h3>
        <div class="field-row"><div class="field-label">Load-in Entrance / Address</div><div class="field-value {{if not (has "loadInAddress")}}muted tbd{{end}}">{{if has "loadInAddress"}}{{display "loadInAddress"}}{{else}}N/A{{end}}</div></div>
        {{if has "dockNotes"}}<div class="field-row"><div class="field-label">Dock / Ramp Notes</div><div class="field-value">{{display "dockNotes"}}</div></div>{{end}}
        {{if has "parkingInstructions"}}<div class="field-row"><div class="field-label">Parking Instructions</div><div class="field-value">{{display "parkingInstructions"}}</div></div>{{end}}
        {{if has "accessNotes"}}<div class="field-row"><div class="field-label">Credentials / Access Notes</div><div class="field-value">{{display "accessNotes"}}</div></div>{{end}}
      </div>

      {{if or (has "strobeLights") (has "audiencePolicy") (has "professionalPhotoVideo") (has "gaReservedSeats")}}
      <div class="card">
        <h3 class="card-title">House Management</h3>
        {{if has "strobeLights"}}<div class="field-row"><div class="field-label">Strobe Lights</div><div class="field-value">{{display "strobeLights"}}</div></div>{{end}}
        {{if has "audiencePolicy"}}<div class="field-row"><div class="field-label">Audience Photo / Video Policy</div><div class="field-value">{{display "audiencePolicy"}}</div></div>{{end}}
        {{if has "professionalPhotoVideo"}}<div class="field-row"><div class="field-label">Professional Photo / Video</div><div class="field-value">{{display "professionalPhotoVideo"}}</div></div>{{end}}
        {{if has "gaReservedSeats"}}<div class="field-row"><div class="field-label">GA Reserved Seats</div><div class="field-value">{{display "gaReservedSeats"}}</div></div>{{end}}
      </div>
      {{end}}
    </div>

    <div class="card-grid two-col" style="margin-top:12px;">
      {{if or (has "budget") (has "caterer") (has "mealsFor") (has "mealTimes") (has "dietaryRestrictions") (has "mealLocation")}}
      <div class="card">
        <h3 class="card-title">Hospitality & Catering</h3>
        {{if has "budget"}}<div class="field-row"><div class="field-label">Budget</div><div class="field-value">{{display "budget"}}</div></div>{{end}}
        {{if has "caterer"}}<div class="field-row"><div class="field-label">Caterer</div><div class="field-value">{{display "caterer"}}</div></div>{{end}}
        {{if has "mealsFor"}}<div class="field-row"><div class="field-label">Meals for # Artists / Personnel</div><div class="field-value">{{display "mealsFor"}}</div></div>{{end}}
        {{if has "mealTimes"}}<div class="field-row"><div class="field-label">Meal Times</div><div class="field-value">{{display "mealTimes"}}</div></div>{{end}}
        {{if has "dietaryRestrictions"}}<div class="field-row"><div class="field-label">Dietary Restrictions</div><div class="field-value">{{display "dietaryRestrictions"}}</div></div>{{end}}
        {{if has "mealLocation"}}<div class="field-row"><div class="field-label">Meal Location</div><div class="field-value">{{display "mealLocation"}}</div></div>{{end}}
      </div>
      {{end}}

      {{if or (has "transportationNotes")}}
      <div class="card">
        <h3 class="card-title">Transportation</h3>
        {{if has "transportationNotes"}}<div class="field-row"><div class="field-label">Transportation</div><div class="field-value">{{display "transportationNotes"}}</div></div>{{end}}
      </div>
      {{end}}
    </div>

    <div class="card-grid two-col" style="margin-top:12px;">
      {{if or (has "merchAllowed") (has "merchLocation") (has "cashlessPolicy") (has "merchStaffing") (has "merchSplit")}}
      <div class="card">
        <h3 class="card-title">Merchandise</h3>
        {{if has "merchAllowed"}}<div class="field-row"><div class="field-label">Merch Allowed</div><div class="field-value">{{display "merchAllowed"}}</div></div>{{end}}
        {{if has "merchLocation"}}<div class="field-row"><div class="field-label">Merch Location</div><div class="field-value">{{display "merchLocation"}}</div></div>{{end}}
        {{if has "cashlessPolicy"}}<div class="field-row"><div class="field-label">Cashless Policy</div><div class="field-value">{{display "cashlessPolicy"}}</div></div>{{end}}
        {{if has "merchStaffing"}}<div class="field-row"><div class="field-label">Staffing</div><div class="field-value">{{display "merchStaffing"}}</div></div>{{end}}
        {{if has "merchSplit"}}<div class="field-row"><div class="field-label">Merch Split %</div><div class="field-value">{{display "merchSplit"}}</div></div>{{end}}
      </div>
      {{end}}

      {{if or (has "lodgingProvider") (has "roomsNights") (has "propertyName") (has "checkInCheckOut") (has "namesConfirmations")}}
      <div class="card">
        <h3 class="card-title">Lodging</h3>
        {{if has "lodgingProvider"}}<div class="field-row"><div class="field-label">Artist vs Venue Provides</div><div class="field-value">{{display "lodgingProvider"}}</div></div>{{end}}
        {{if has "roomsNights"}}<div class="field-row"><div class="field-label">Rooms / Nights</div><div class="field-value">{{display "roomsNights"}}</div></div>{{end}}
        {{if has "propertyName"}}<div class="field-row"><div class="field-label">Property Name</div><div class="field-value">{{display "propertyName"}}</div></div>{{end}}
        {{if has "checkInCheckOut"}}<div class="field-row"><div class="field-label">Check-in / Check-out</div><div class="field-value">{{display "checkInCheckOut"}}</div></div>{{end}}
        {{if has "namesConfirmations"}}<div class="field-row"><div class="field-label">Names / Confirmation #s</div><div class="field-value">{{display "namesConfirmations"}}</div></div>{{end}}
      </div>
      {{end}}
    </div>

    <div class="card-grid two-col" style="margin-top:12px;">
      {{if or (has "bagCheck") (has "theaterSecurity") (has "reEntryPolicy") (has "bagPolicyDetails") (has "barricadeSecurity") (has "artistEscortPolicy") (has "emergencyProcedures")}}
      <div class="card">
        <h3 class="card-title">Security</h3>
        {{if has "bagCheck"}}<div class="field-row"><div class="field-label">Bag Check</div><div class="field-value">{{display "bagCheck"}}</div></div>{{end}}
        {{if has "theaterSecurity"}}<div class="field-row"><div class="field-label">Theater Security</div><div class="field-value">{{display "theaterSecurity"}}</div></div>{{end}}
        {{if has "reEntryPolicy"}}<div class="field-row"><div class="field-label">Re-entry Policy</div><div class="field-value">{{display "reEntryPolicy"}}</div></div>{{end}}
        {{if has "bagPolicyDetails"}}<div class="field-row"><div class="field-label">Bag Policy Details</div><div class="field-value">{{display "bagPolicyDetails"}}</div></div>{{end}}
        {{if has "barricadeSecurity"}}<div class="field-row"><div class="field-label">Barricade Security</div><div class="field-value">{{display "barricadeSecurity"}}</div></div>{{end}}
        {{if has "artistEscortPolicy"}}<div class="field-row"><div class="field-label">Artist Escort Policy</div><div class="field-value">{{display "artistEscortPolicy"}}</div></div>{{end}}
        {{if has "emergencyProcedures"}}<div class="field-row"><div class="field-label">Emergency Procedures</div><div class="field-value">{{display "emergencyProcedures"}}</div></div>{{end}}
      </div>
      {{end}}
    </div>

    {{if or (has "staging") (has "stagePlatforms") (has "lightingHaze") (has "linesetRigging") (has "plot") (has "audioBackline") (has "productionOther") (has "productionNotes") (has "videoStreaming") (has "pianoTuning") (has "crewTheyBring") (has "crewWeProvide")}}
    <div class="card" style="margin-top:14px;">
      <h3 class="card-title">Production Requirements</h3>
      {{if has "staging"}}<div class="field-row"><div class="field-label">Staging</div><div class="field-value">{{display "staging"}}</div></div>{{end}}
      {{if has "stagePlatforms"}}<div class="field-row"><div class="field-label">Drum Riser / Platforms</div><div class="field-value">{{display "stagePlatforms"}}</div></div>{{end}}
      {{if has "lightingHaze"}}<div class="field-row"><div class="field-label">Lighting / Haze</div><div class="field-value">{{display "lightingHaze"}}</div></div>{{end}}
      {{if has "linesetRigging"}}<div class="field-row"><div class="field-label">Rigging</div><div class="field-value">{{display "linesetRigging"}}</div></div>{{end}}
      {{if has "plot"}}<div class="field-row"><div class="field-label">Plot</div><div class="field-value">{{display "plot"}}</div></div>{{end}}
      {{if has "audioBackline"}}<div class="field-row"><div class="field-label">Audio - Band Provides</div><div class="field-value">{{display "audioBackline"}}</div></div>{{end}}
      {{if has "productionOther"}}<div class="field-row"><div class="field-label">Audio - Venue Provides</div><div class="field-value">{{display "productionOther"}}</div></div>{{end}}
      {{if has "productionNotes"}}<div class="field-row"><div class="field-label">Audio Notes</div><div class="field-value">{{display "productionNotes"}}</div></div>{{end}}
      {{if has "videoStreaming"}}<div class="field-row"><div class="field-label">Video Streaming</div><div class="field-value">{{display "videoStreaming"}}</div></div>{{end}}
      {{if has "pianoTuning"}}<div class="field-row"><div class="field-label">Piano / Tuning</div><div class="field-value">{{display "pianoTuning"}}</div></div>{{end}}
      {{if has "crewTheyBring"}}<div class="field-row"><div class="field-label">Crew - They Bring</div><div class="field-value">{{display "crewTheyBring"}}</div></div>{{end}}
      {{if has "crewWeProvide"}}<div class="field-row"><div class="field-label">Crew - We Provide</div><div class="field-value">{{display "crewWeProvide"}}</div></div>{{end}}
    </div>
    {{end}}

    {{if has "nextTimeNotes"}}
    <div class="card" style="margin-top:12px;">
      <h3 class="card-title">Next Time Notes</h3>
      <div class="field-row"><div class="field-label">Notes</div><div class="field-value">{{display "nextTimeNotes"}}</div></div>
    </div>
    {{end}}

    <div class="card contacts-section" style="margin-top:12px;">
      <h3 class="card-title">Contacts</h3>
      <table class="contacts-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Role</th>
            <th>Phone</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody>
          {{range .Contacts}}
          <tr>
            <td>{{contact .Name}}</td>
            <td>{{contact .Role}}</td>
            <td>{{contact .Phone}}</td>
            <td>{{contact .Email}}</td>
          </tr>
          {{else}}
          <tr><td colspan="4" style="text-align:center;">TBD</td></tr>
          {{end}}
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
